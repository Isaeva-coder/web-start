{"version":3,"sources":["main.js"],"names":["$","document","ready","modal","modalBtn","closeBtn","thanks","closeBtnThanks","on","toggleClass","event","target","is","stopPropagation","keyCode","hasClass","removeClass","scroll","this","scrollTop","window","width","css","opacity","fadeIn","stop","fadeOut","click","animate","e","preventDefault","id","attr","idTop","offset","top","Swiper","loop","pagination","el","type","navigation","nextEl","prevEl","next","prev","bullets","matchMedia","matches","each","positionPrev","position","left","WOW","init","validate","errorClass","errorElement","rules","userName","required","minlength","maxlength","userPhone","userEmail","email","policyCheckbox","messages","submitHandler","form","ajax","url","data","serialize","success","response","addClass","reset","userQuestion","mask","placeholder","ymaps","myMap","Map","center","zoom","searchControlProvider","myPlacemark","templateLayoutFactory","createClass","Placemark","getCenter","hintContent","balloonContent","iconLayout","iconImageHref","iconImageSize","iconImageOffset","behaviors","disable","geoObjects","add"],"mappings":"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","file":"main.min.js","sourcesContent":["$(document).ready(function() {\r\n  var modal = $(\".modal\"),\r\n    modalBtn = $(\"[data-toggle=modal]\"),\r\n    closeBtn = $(\".modal__close\");\r\n  thanks = $(\".thanks\");\r\n  closeBtnThanks = $(\".thanks__close\");\r\n\r\n  modalBtn.on(\"click\", function() {\r\n    modal.toggleClass(\"modal--visible\");\r\n  });\r\n  closeBtn.on(\"click\", function() {\r\n    modal.toggleClass(\"modal--visible\");\r\n  });\r\n  modal.on(\"click\", function(event) {\r\n    if ($(event.target).is(\"modal__dialog\")) event.stopPropagation();\r\n    else if ($(event.target).is(\".modal\")) modal.toggleClass(\"modal--visible\");\r\n  });\r\n  $(document).on(\"keydown\", function(event) {\r\n    if (event.keyCode === 27 && $(\".modal\").hasClass(\"modal--visible\"))\r\n      modal.toggleClass(\"modal--visible\");\r\n  });\r\n  // Закрытие окна благодарности\r\n  closeBtnThanks.on(\"click\", function() {\r\n    thanks.removeClass(\"thanks--visible\");\r\n  });\r\n  thanks.on(\"click\", function(event) {\r\n    if ($(event.target).is(\"thanks__dialog\")) event.stopPropagation();\r\n    else if ($(event.target).is(\".thanks\"))\r\n      thanks.removeClass(\"thanks--visible\");\r\n  });\r\n  $(document).on(\"keydown\", function(event) {\r\n    if (event.keyCode === 27 && $(\".thanks\").hasClass(\"thanks--visible\"))\r\n      thanks.removeClass(\"thanks--visible\");\r\n  });\r\n\r\n  $(document).scroll(function() {\r\n    if ($(this).scrollTop() >= 30 && $(window).width() >= 760) {\r\n      if ($(\".button-up\").is(\":hidden\")) {\r\n        $(\".button-up\")\r\n          .css({ opacity: 1 })\r\n          .fadeIn(\"slow\");\r\n      }\r\n    } else {\r\n      $(\".button-up\")\r\n        .stop(true, false)\r\n        .fadeOut(\"fast\");\r\n    }\r\n  });\r\n  $(\".button-up\").click(function() {\r\n    $(\"html, body\")\r\n      .stop()\r\n      .animate({ scrollTop: 0 }, 1300);\r\n  });\r\n\r\n  $(\".nav\").on(\"click\", \"a\", function(e) {\r\n    e.preventDefault();\r\n    var id = $(this).attr(\"href\"),\r\n      idTop = $(id).offset().top;\r\n    $(\"body, html\").animate({ scrollTop: idTop }, 1300);\r\n  });\r\n  $(\".logo\").on(\"click\", \"a\", function(e) {\r\n    $(\"body, html\").animate({ scrollTop: 0 }, 1300);\r\n  });\r\n\r\n  var mySwiper = new Swiper(\".projects-swiper\", {\r\n    loop: true,\r\n    pagination: {\r\n      el: \".projects-pagination\",\r\n      type: \"bullets\"\r\n    },\r\n    navigation: {\r\n      nextEl: \".projects-swiper-button-next\",\r\n      prevEl: \".projects-swiper-button-prev\"\r\n    }\r\n  });\r\n\r\n  var next = $(\".projects-swiper-button-next\");\r\n  var prev = $(\".projects-swiper-button-prev\");\r\n  var bullets = $(\".projects-pagination\");\r\n\r\n  var mql = window.matchMedia(\"all and (max-width: 570px)\");\r\n  if (mql.matches) {\r\n    $(\".swiper-slide__img\").each(function() {\r\n      $(this).attr(\"src\", \"img/project/project-mobile.jpg\");\r\n    });\r\n  } else {\r\n    $(\".swiper-slide__img\").each(function() {\r\n      $(this).attr(\"src\", \"img/project/project.jpg\");\r\n    });\r\n  }\r\n\r\n  var positionPrev = prev.position();\r\n\r\n  bullets.css(\"left\", positionPrev.left + prev.width() + 20);\r\n  next.css(\r\n    \"left\",\r\n    positionPrev.left + prev.width() + 20 + bullets.width() + 20\r\n  );\r\n\r\n  new WOW().init();\r\n\r\n  // Валидация формы\r\n  $(\".modal__form\").validate({\r\n    errorClass: \"invalid\",\r\n    errorElement: \"div\",\r\n    rules: {\r\n      // строчное правило\r\n      userName: {\r\n        required: true,\r\n        minlength: 2,\r\n        maxlength: 15\r\n      },\r\n      userPhone: {\r\n        required: true,\r\n        minlength: 17\r\n      },\r\n      // правило-объект (блок)\r\n      userEmail: {\r\n        required: true,\r\n        email: true\r\n      },\r\n      policyCheckbox: \"required\"\r\n    }, // сообщения\r\n    messages: {\r\n      userName: {\r\n        required: \"Заполните поле\",\r\n        minlength: \"Имя не должно быть короче двух букв\",\r\n        maxlength: \"Имя не должно быть больше 15 букв\"\r\n      },\r\n      userPhone: {\r\n        required: \"Заполните поле\",\r\n        minlength: \"Номер не может быть короче 11 цифр\"\r\n      },\r\n      userEmail: {\r\n        required: \"Заполните поле\",\r\n        email: \"Введите в формате: name@domain.com\"\r\n      },\r\n      policyCheckbox: \"Обязательное поле\"\r\n    },\r\n\r\n    submitHandler: function(form) {\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: \"send.php\",\r\n        data: $(form).serialize(),\r\n        success: function(response) {\r\n          $(\".thanks\").addClass(\"thanks--visible\");\r\n          $(form)[0].reset();\r\n          if ($(\".thanks\").hasClass(\"thanks--visible\")) {\r\n            modal.removeClass(\"modal--visible\");\r\n          }\r\n        }\r\n      });\r\n    }\r\n  });\r\n  $(\".footer__form\").validate({\r\n    errorClass: \"invalid\",\r\n    errorElement: \"div\",\r\n    rules: {\r\n      // строчное правило\r\n      userName: {\r\n        required: true,\r\n        minlength: 2,\r\n        maxlength: 15\r\n      },\r\n      userPhone: {\r\n        required: true,\r\n        minlength: 17\r\n      },\r\n      // правило-объект (блок)\r\n      userQuestion: {\r\n        required: true\r\n      },\r\n      policyCheckbox: \"required\"\r\n    }, // сообщения\r\n    messages: {\r\n      userName: {\r\n        required: \"Заполните поле\",\r\n        minlength: \"Имя не должно быть короче двух букв\",\r\n        maxlength: \"Имя не должно быть больше 15 букв\"\r\n      },\r\n      userPhone: {\r\n        required: \"Заполните поле\",\r\n        minlength: \"Номер не может быть короче 11 цифр\"\r\n      },\r\n      userQuestion: {\r\n        required: \"Заполните поле\"\r\n      },\r\n      policyCheckbox: \"Обязательное поле\"\r\n    },\r\n    submitHandler: function(form) {\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: \"send.php\",\r\n        data: $(form).serialize(),\r\n        success: function(response) {\r\n          $(\".thanks\").addClass(\"thanks--visible\");\r\n          $(form)[0].reset();\r\n          if ($(\".thanks\").hasClass(\"thanks--visible\")) {\r\n            modal.removeClass(\"modal--visible\");\r\n          }\r\n        }\r\n      });\r\n    }\r\n  });\r\n  $(\".control__form\").validate({\r\n    errorClass: \"invalid\",\r\n    errorElement: \"div\",\r\n    rules: {\r\n      // строчное правило\r\n      userName: {\r\n        required: true,\r\n        minlength: 2,\r\n        maxlength: 15\r\n      },\r\n      userPhone: {\r\n        required: true,\r\n        minlength: 17\r\n      },\r\n      policyCheckbox: \"required\"\r\n    }, // сообщения\r\n    messages: {\r\n      userName: {\r\n        required: \"Заполните поле\",\r\n        minlength: \"Имя не должно быть короче двух букв\",\r\n        maxlength: \"Имя не должно быть больше 15 букв\"\r\n      },\r\n      userPhone: {\r\n        required: \"Заполните поле\",\r\n        minlength: \"Номер не может быть короче 11 цифр\"\r\n      },\r\n      policyCheckbox: \"Обязательное поле\"\r\n    },\r\n    submitHandler: function(form) {\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: \"send.php\",\r\n        data: $(form).serialize(),\r\n        success: function(response) {\r\n          $(\".thanks\").addClass(\"thanks--visible\");\r\n          $(form)[0].reset();\r\n          if ($(\".thanks\").hasClass(\"thanks--visible\")) {\r\n            modal.removeClass(\"modal--visible\");\r\n          }\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  // маска для номера телефона\r\n\r\n  $(\"[type=tel]\").mask(\"+7(000) 000-00-00\", {\r\n    placeholder: \"+7 (___) ___-__-__\"\r\n  });\r\n\r\n  // создание yandex карты\r\n  ymaps.ready(function() {\r\n    var myMap = new ymaps.Map(\r\n        \"map\",\r\n        {\r\n          center: [47.244729, 39.723187],\r\n          zoom: 13\r\n        },\r\n        {\r\n          searchControlProvider: \"yandex#search\"\r\n        }\r\n      ),\r\n      // Создаём макет содержимого.\r\n      MyIconContentLayout = ymaps.templateLayoutFactory.createClass(\r\n        '<div style=\"color: #FFFFFF; width: 100%; height: 100%; font-weight: bold;\">$[properties.iconContent]</div>'\r\n      ),\r\n      myPlacemark = new ymaps.Placemark(\r\n        myMap.getCenter(),\r\n        {\r\n          hintContent: \"Наш офис\",\r\n          balloonContent: \"Турецкий ремонт квартир\"\r\n        },\r\n        {\r\n          // Опции.\r\n          // Необходимо указать данный тип макета.\r\n          iconLayout: \"default#image\",\r\n          // Своё изображение иконки метки.\r\n          iconImageHref: \"img/location.png\",\r\n          // Размеры метки.\r\n          iconImageSize: [32, 32],\r\n          // Смещение левого верхнего угла иконки относительно\r\n          // её \"ножки\" (точки привязки).\r\n          iconImageOffset: [-5, -38]\r\n        }\r\n      );\r\n\r\n    myMap.behaviors.disable(\"scrollZoom\");\r\n    myMap.geoObjects.add(myPlacemark);\r\n  });\r\n});\r\n"]}